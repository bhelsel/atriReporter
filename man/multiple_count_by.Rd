% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/count_by.R
\name{multiple_count_by}
\alias{multiple_count_by}
\title{Count Multiple Variables and Combine Results}
\usage{
multiple_count_by(data, names, labels, ids, ..., value = 1, varname)
}
\arguments{
\item{data}{A data frame containing the variables to be counted.}

\item{names}{Character vector of column names in \code{data} to count.
These are the actual variable names as they appear in the dataset.}

\item{labels}{Character vector of display labels corresponding to each name
in \code{names}. Must be the same length as \code{names}. These labels
will replace the variable names in the output.}

\item{ids}{Unquoted column name(s) to group by when counting. Can be a single
variable or multiple variables using \code{c()}.}

\item{...}{Grouping variables to count by (e.g., site_label)}

\item{value}{The value to filter for in the column (default: 1)}

\item{varname}{Character string specifying the name for the variable column
in the output. Default column name "variable" will be renamed to this value.}
}
\value{
A tibble with the following structure:
\itemize{
\item A column with the name specified by \code{varname} containing the
labels from the \code{labels} parameter
\item Columns for each unique value in the grouping variable(s), containing
counts of occurrences
\item All \code{NA} values in numeric columns are converted to 0
}
}
\description{
Iterates over multiple variable names, counts occurrences by specified ID
columns, and combines the results into a single summary table with custom
labels. This is useful for creating frequency tables across multiple related
variables.
}
\details{
The function performs the following steps:
\enumerate{
\item Iterates through each variable name and its corresponding label using
\code{purrr::map2()}
\item For each variable, calls \code{atriReporter::count_by()} to count
occurrences grouped by the specified ID column(s)
\item Replaces the first column (variable identifier) with the custom label
\item Combines all individual count tables into a single data frame
\item Converts any \code{NA} values in numeric columns to 0 for cleaner output
\item Renames the variable column to the specified \code{varname}
}

This function is particularly useful for creating summary tables that show
counts across multiple related variables (e.g., multiple imaging sequences,
multiple assessment types) with human-readable labels.
}
\examples{
\dontrun{
# Count multiple MRI sequences by participant group
mri_summary <- multiple_count_by(
  data = imaging_data,
  names = c("mri_t1", "mri_flair", "mri_dti"),
  labels = c("T1 MPRAGE", "3D FLAIR", "DTI"),
  ids = subject_label,
  varname = "MRI_Sequence"
)

# Count assessments by subject and site
assessment_summary <- multiple_count_by(
  data = assessments,
  names = c("cdr_done", "mmse_done", "faq_done"),
  labels = c("CDR", "MMSE", "FAQ"),
  ids = subject_label,
  site_label,
  varname = "Assessment"
)
}

}
\seealso{
\code{\link{count_by}}
}
